<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>It's fuyb</title>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
<div class="container">
    <nav class="nav-bar gradient">
        <ul>
            <li class="list">
<!--                <a href="#/home">Home</a>-->
                <a href="#/resume">Resume</a>
                <a href="#/asm">Asm</a>
                <a href="#/popstar">Popstar</a>
                <a href="#/mineSweeper">MineSweeper</a>
            </li>
        </ul>
    </nav>
    <div class="gutter"></div>
    <div>
        <iframe class="route" src="./resume/index.html" name="myiframe" idth="100%" frameborder="0" scrolling="no"></iframe>
    </div>
</div>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="spa.js"></script>

<script>
    // iframe 自适应滑动
    var myIframe = document.querySelector('.route')
    myIframe.onload = function () {
        var doc = window.frames['myiframe'].document
        // 把 <iframe> 的高度设置为 iframe 内容的高度 -> 可以改成浏览器高度
        var windowHeight = document.documentElement.clientHeight
        var docHeight = doc.documentElement.scrollHeight
        var offset = windowHeight - docHeight
        myIframe.style.height = docHeight + 'px'
    }

    var onTop = false
    $(window).scroll(function () {
        // 滚动条距离顶部的高度
        var scrollTop = $(this).scrollTop()
        var nav = $('.nav-bar')
        const toggleBg = () => {
            if (nav.hasClass('black')) {
                nav.addClass('gradient')
                nav.removeClass('black')
            } else {
                nav.addClass('black')
                nav.removeClass('gradient')
            }
        }
        if (scrollTop >= 5) {
            console.log('脱离顶部了！')
            onTop = false
        } else {
            console.log('已经到顶了')
            onTop = true
        }
        if (onTop) {
            toggleBg()
        }
    })
</script>

</body>
</html>
