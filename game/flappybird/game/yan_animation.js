"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var YanAnimation=function(){function f(t,e){_classCallCheck(this,f),this.game=t,this.x=e.initX,this.y=e.initY,this.currentStatus=e.initStatus,this.animations=new Map;for(var i=Object.keys(e.status),n=0;n<i.length;n++){var s=i[n],a=e.status[s],r=a.name,h=a.count;this.animations.set(s,[]);for(var u=1;u<=h;u++){var o=t.textureByName(r+u);this.animations.get(s).push(o)}}this.texture=this.frames()[0],this.w=this.texture.width,this.h=this.texture.height,this.frameIndex=1,this.frameCount=this.frames().length,this.flipX=!1,this.stop=!1}return _createClass(f,[{key:"changeToStatic",value:function(){this.stop=!0,this.frameIndex=1,this.texture=this.frames()[this.frameIndex]}},{key:"frames",value:function(){return this.animations.get(this.currentStatus)}},{key:"update",value:function(){this.stop||(this.frameCount--,0==this.frameCount&&(this.frameCount=3,this.frameIndex=(this.frameIndex+1)%this.frames().length,this.texture=this.frames()[this.frameIndex]))}},{key:"draw",value:function(){}},{key:"changeAnimation",value:function(t){this.currentStatus=t}}],[{key:"new",value:function(t,e){return new this(t,e)}}]),f}();