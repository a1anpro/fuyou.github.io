{"version":3,"sources":["cpu/test/test_preprocessor.js"],"names":["asm_test_dot_add","output","translate_fake_ins","asm","asm_test_dot_if","asm_test_process_if_while","process_if_while","log","test_preprocessor"],"mappings":"aASI,IAAAA,iBAAA,WAUAC,IAAAA,sFAgBAA,OAASC,mBAAmBC,MAI5BC,gBAAA,WAcAH,IAAAA,oHAYAA,OAAAC,mBAAAC,MA3BAE,0BAA4B,WAG5BF,IAAG,4KAYHF,OAASK,iBAAiBH,KAC1BI,IAAI,UAAWN,SAGfO,kBAAoB,WACpBH","file":"../../../cpu/test/test_preprocessor.js","sourcesContent":["\n// 运算伪指令\n// 1: .add var1 var2 ans\n// 2: .if\n\n\n// 运算伪指令测试\n// .add\nvar asm_test_dot_add = function(){\n    // a = a + a, a = a + b, a = b + b, c = a + b  测试ok\n    // 加入常量测试: a = a + 1, a = 1 + a, a = 1 + 1\n    asm = `\n    .function main\n    .var a 30\n    .add 1 100 a\n\n    .load a a2\n    halt\n`\n    output = translate_fake_ins(asm)\n}\n\n// .if\nvar asm_test_dot_if = function(){\n    // a = a + a, a = a + b, a = b + b, c = a + b  测试ok\n    // 加入常量测试: a = a + 1, a = 1 + a, a = 1 + 1\n    asm = `\n    set2 a1 10\n    set2 a2 20\n    .if (a1 < a2){\n        set2 a1 199\n        set2 a2 299\n    }\n    halt\n`\n    output = translate_fake_ins(asm)\n}\n\nvar asm_test_process_if_while = function(){\n    // a = a + a, a = a + b, a = b + b, c = a + b  测试ok\n    // 加入常量测试: a = a + 1, a = 1 + a, a = 1 + 1\n    asm = `\n    set2 a1 10\n    set2 a2 20\n    .if (a1 < a2){\n        set2 a1 199\n        set2 a2 299\n        .add 123 23 123\n    }\n    .add 1 2 3\n    .var x 10\n    halt\n`\n    output = process_if_while(asm)\n    log('output:', output)\n}\n\nvar test_preprocessor = function(){\n    asm_test_process_if_while()\n\n    // 运算伪指令\n    // asm_test_dot_add()\n    // asm_test_dot_if()\n\n    // 综合测试\n    // asm_test_same_var_name()\n    // asm_test_multiply()\n}\n"]}