"use strict";var testCanvas=e("#id-test-canvas"),testCtx=testCanvas.getContext("2d"),animationCanvas=e("#id-animation-canvas"),animationCtx=animationCanvas.getContext("2d"),TEST_IMG_MAPPER={1:"bird",2:"brown",3:"fox",4:"frog",5:"hippo",6:"owl"},test_images={},test_images_config={bird:{name:"bird",path:"./resume/animation/test/bird.png",width:66,height:65,count:10,index:0},brown:{name:"brown",path:"./resume/animation/test/brown.png",width:70,height:65,count:10,index:0},fox:{name:"fox",path:"./resume/animation/test/fox.png",width:68,height:63,count:7,index:0},frog:{name:"frog",path:"./resume/animation/test/frog.png",width:70,height:65,count:9,index:0},hippo:{name:"hippo",path:"./resume/animation/test/hippo.png",width:64,height:65,count:8,index:0},owl:{name:"owl",path:"./resume/animation/test/owl.png",width:70,height:65,count:3,index:0}},drawCell=function(t,a,n,e){t.drawImage(a,n*CELL_SIZE,e*CELL_SIZE)},drawRow=function(t,a,n){for(var e=1;e<=9;e+=1)drawCell(t,cell,e,n)},drawSquare=function(t){for(var a=1;a<=9;a+=1)drawRow(t,cell,a)},drawVerticalLine=function(t,a,n){t.beginPath(),t.strokeStyle="black";for(var e=0;e<=a;e++)t.moveTo(70*e,0),t.lineTo(70*e,n);t.closePath(),t.stroke()},drawHorizontalLine=function(t,a,n){t.beginPath(),t.strokeStyle="black";for(var e=0;e<=a;e++)t.moveTo(0,70*e),t.lineTo(n,70*e);t.closePath(),t.stroke()},drawGrid=function(t){drawVerticalLine(t,10,280),drawHorizontalLine(t,4,700)},clearCanvas=function(t,a){t.clearRect(0,0,a.width,a.height)},clearAll=function(){clearCanvas(animationCtx,animationCanvas),clearCanvas(testCtx,testCanvas),drawGrid(animationCtx)},cellHeight=65,drawCarousel=function(t,a){log("here");var n=a.name,e=a.width,i=a.height,o=a.count,r=a.index;a.index+=1,a.index%=o,testCtx.drawImage(test_images[n],0,65*(t-1)),testCtx.strokeStyle="red",testCtx.strokeRect(r*e,65*(t-1),e,i)},timeJob=function(t){var a=t.config,t=(a.name,a.width,a.height,a.count);a.index;a.index+=1,a.index%=t},globalTimeJob=function(){for(var t=0;t<4;t++)for(var a=0;a<10;a++){var n=testGameMap[t][a];timeJob(n)}},drawAnimation=function(t,a,n){var e=t.name,i=t.width,o=t.height,t=(t.count,t.index);animationCtx.drawImage(test_images[e],t*i,0,i,o,70*(a-1)+(70-i)/2,70*(n-1)+(70-o)/2,i,o)},_drawAnimation=function(t){var a=t.x,n=t.y,e=(t.alive,t.config),i=e.name,o=e.width,t=e.height,e=(e.count,e.index);animationCtx.drawImage(test_images[i],e*o,0,o,t,70*(n-1)+(70-o)/2,70*(a-1)+(70-t)/2,o,t)},_start=function(){var t=test_images_config.brown,a=test_images_config.fox,n=test_images_config.bird,e=test_images_config.frog,i=test_images_config.hippo;setInterval(function(){clearAll(),drawCarousel(1,a),drawAnimation(a,1,1),drawAnimation(t,2,2),drawAnimation(n,3,3),drawAnimation(e,4,4),drawAnimation(i,3,4)},200)},_draw=function(){for(var t=0;t<4;t++)for(var a=0;a<10;a++){var n=testGameMap[t][a];_drawAnimation(n)}},_render=function(){setInterval(function(){clearAll(),globalTimeJob(),_draw()},200)},square=[[5,1,5,3,2,1,4,5,2,5],[2,1,2,4,3,2,4,1,4,2],[3,4,1,2,1,1,1,1,4,1],[3,3,4,4,4,2,2,1,2,5]],testGenMap=function(){for(var t=[],a=0;a<4;a++){for(var n=[],e=0;e<10;e++){var i=square[a][e],i=TEST_IMG_MAPPER[i],i=test_images_config[i],i={x:a,y:e,alive:!0,config:_.cloneDeep(i)};n.push(i)}t.push(n)}return t},testGameMap=testGenMap();log("gameMap:",testGameMap);var _init=function(){for(var e=Object.keys(test_images_config),i=0,t=0;t<e.length;t++)!function(t){var a=e[t],t=test_images_config[a].path,n=new Image;n.src=t,n.onload=function(){test_images[a]=n,(i+=1)==e.length&&_render()}}(t)},_main=function(){_init()};_main();
//# sourceMappingURL=../maps/popstar/animation.js.map
